var e={n:o=>{var r=o&&o.__esModule?()=>o.default:()=>o;return e.d(r,{a:r}),r},d:(o,r)=>{for(var n in r)e.o(r,n)&&!e.o(o,n)&&Object.defineProperty(o,n,{enumerable:!0,get:r[n]})},o:(e,o)=>Object.prototype.hasOwnProperty.call(e,o),r:e=>{"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})}},o={};e.r(o);const r=require("module");var n=e.n(r);const t=require("path");var a=e.n(t);const s=require("child_process"),i=require("fs");var c=e.n(i);const l=require("inspector");process.argv.join("").includes("--debug")&&((0,l.open)(),(0,l.waitForDebugger)());const p=require("sass"),d=require("electron");d.ipcMain.on("pccompat-get-app-path",(e=>{e.returnValue=d.app.getAppPath()})),d.ipcMain.on("pccompat-get-window-data",(e=>{e.returnValue=e.sender.kernelWindowData})),d.ipcMain.on("pccompat-compile-sass",((e,o)=>{let r="";try{r=p.compile(o).css.toString()}catch(o){e.sender.executeJavaScript(function(e){return`\nconsole.error(Object.assign(new Error(${JSON.stringify(e.message)}), {\n    stack: ${JSON.stringify(e.stack)},\n    name: ${JSON.stringify(e.name)}\n}));`.trim()}(o))}e.returnValue=r})),d.ipcMain.handle("pccompat-open-devtools",((e,o)=>{const r=d.BrowserWindow.fromWebContents(e.sender);r&&(o&&!r.webContents.isDevToolsOpened()?r.webContents.openDevTools():r.webContents.closeDevTools())}));const u=a().resolve(__dirname,"..","node_modules");if(!c().existsSync(u))try{(0,s.execSync)("npm install --production",{cwd:__dirname})}catch(e){console.error("Failed to automatically install node modules:",e)}n().globalPaths.push(u);var m=exports;for(var g in o)m[g]=o[g];o.__esModule&&Object.defineProperty(m,"__esModule",{value:!0});